/* Custom page header */

body{
  &:before{
    width:100%;
    position:fixed;
    height:0;
    content:'';
    left:0;
    top:0;
    z-index: 11;
    background:#000;
    opacity:0;
    transition: opacity 0.5s linear 0s,height 0s linear 0.5s;
  }
  &.menuon{
    &:before{
      opacity:1;
      height:100%;
      transition: opacity 0.5s linear 0s;
    }
    #mm{
      background-image:url(../img/common/xx.svg);
    }
    .search{
      height:0;
      overflow:hidden;
      opacity:0;
      transition: opacity 0.5s linear 0s,height 0s linear 0.5s;
    }
    header .fit .logo, header .fit .marquee{
      height:0;
      overflow:hidden;
      opacity:0;
      transition: opacity 0.5s linear 0s,height 0s linear 0.5s;
    }

  }
}

.mmenu-head{
  z-index: 19;
  position:fixed;
  top:0;
  left:0;
  overflow: hidden;
  min-width: 320px;
  display: none;
  @media  screen and (max-width: 1170px) {
    display: block;
  }
  aside{
    background:#000;
    height:40px;
    @media  (min-width: 768px) and (max-width: 1170px) {
      padding-top:96px;
    }
  }
  ul{
    opacity:0;
    height:40px;
    li:before{
      height:300px;
    }
    @for $i from 1 through 10 {
      li:nth-child(#{$i}) {
        &:before{
          transition: height 0.5s ease-out $i*0.2s;
        }
        a{
          transition: opacity 0.5s ease-out $i*0.2s;
        }
      }
    }
    ol{

      @for $i from 1 through 100 {
        li:nth-child(#{$i}) {
          &:before{
            transition: height 0.5s ease-out $i*0.2s;
          }
          a{
            transition: opacity 0.5s ease-out $i*0.2s;
          }
        }
      }
    }
  }
  &.on{
    position:relative;
    overflow: visible;
    ul{
      opacity:1;
      transition: opacity 1s linear 0s;
      li:before{
        height:76px!important;
      }
      a{
        opacity:1;
        color:#fff;
      }
    }
  }
  @media screen and (max-width: 1170px) {
    top:0;
    left:0;
    height:40px;
    line-height: 38px;
    display: block;
  }
  @media  (min-width: 768px) and (max-width: 1170px) {
    height:96px;
    display: block;
  }
  #mm{
    text-indent: -9999em;
    background: url(../img/common/menu-bar.png) center center / auto 100% no-repeat ;
    display: inline-block;
    width:90px;
    height: 35px;
    position:absolute;
    left: 15px;
    top:30px;
    z-index: 1;
    @media screen and (max-width: 767px) {
      top:12px;
      width:20px;
      height: 15px;
    }
    color:#fff;
    &:before{
      height: 100%;
      vertical-align: middle;
      display: inline-block;
      content:' ';
    }
    vertical-align: middle;
  }
  .search{
    display: inline-block;
    width:90px;
    height: 35px;
    position:absolute;
    right: 5px;
    top:30px;
    z-index: 1;
    img{
      width: 50%;
    }
    @media screen and (max-width: 767px) {
      top:3px;
      width:40px;
    }
    color:#fff;
    &:before{
      height: 100%;
      vertical-align: middle;
      display: inline-block;
      content:' ';
    }
    vertical-align: middle;
  }
  ul{
    position:relative;
    width:100%;
    top:0;
    left:0;
    background:#000;
    font-size:  percentage(18/14);
    li {
      display:  block;
      margin:0 15px;
      text-align:center;
      border-bottom:1px solid #181818;
      position:relative;
      &:before{
        display: inline-block;
        vertical-align: middle;
        content:' ';
      }
      a{
        color:#fff;
        display: inline-block;
        vertical-align: middle;
        opacity:0;
        color:rgba(0,0,0,0);
        &:hover{
          color:$main-active-color;
        }
      }
      ol {
        height: 0;
        padding:0;
        margin:0;
        overflow: hidden;
        line-height:60px;
        text-align:left;
        width:100%;
        letter-spacing: -1em;
        transform: scaleY(0);
        transform-origin: top center 0;
        transition-duration: 0.5s;
        opacity: 0;
        li{
          display: inline-block;
          width:50%;
          margin:0;
          letter-spacing: 0.2em;
        }
      }
      &.on{
        >a{
          color:$main-active-color;
        }
        ol{
          opacity: inherit;
          height: auto;
          transform: none;
        }
      }
    }

  }
}
header {
  height:128px;
  margin-top:602px;
  @media screen and (max-width: 1170px) {
    height:auto;
  }
  @media screen and (max-width: 1170px) {
    margin-top:0;
    #menu{
      display: none;
    }
  }
  .fit{
    min-width: 320px;
    width:100%;
    position:relative;
    z-index: 20;
    top:0;
    left: 0;
    &.fixed{
      position:fixed;
      @media screen and (max-width: 1170px) {
        padding-top:90px;
      }
      @media screen and (max-width: 768px) {
        padding-top:40px;
      }
    }
    a.logo{
      display: block;
      height: 50px;
      opacity: 0;
      text-align: center;
      transition-duration: 0s;
      transition-delay: 0s;
      background:rgba(255,255,255,0.8);
      transform-origin:bottom center 0;
      svg#logo{
        margin-top:1px;
        height: 100%;
        fill:#000;
        transition-duration: 0.25s;
        &:hover,&:focus,&:active{
          fill:$main-active-color;
        }
      }
      img{
        transform: translateY(10px);
        height:50px;
        width:auto;
        transform-origin:bottom center 0;
      }
      @media screen and (max-width: 1170px) {
        background:rgba(0,0,0,0);
        position:fixed;
        top:0;
        left:50%;
        margin-left:-119px;
        height:96px;
        opacity: 1!important;

        svg#logo{
          height:50%;
          top:22%;
          fill:#fff;
          margin:0;
          z-index:50;
          position:relative;
          transition-duration: 0.25s;
          &:hover,&:focus,&:active{
            fill:$main-active-color;
          }
        }
      }
      @media screen and (max-width: 768px) {
        height:40px;
        left:50%;
        margin-left:-60px;
      }
    }
  }
  aside{
    background: #000;
    height:78px;
    @media screen and (max-width: 1170px) {
      background: rgba(0,0,0,0);
      height:0;
    }
  }
  #menu{
    width:980px;
    margin:0 auto;
    max-height: 78px;
    z-index: 1;
    ul{
      margin:0;
      padding:0;
      line-height: 78px;
      letter-spacing: 0;
      font-size: 0;
      display: inline;
      li{
        vertical-align: top;
        text-align: center;
        list-style:none;
        letter-spacing: 1px;
        display: inline-block;
        height: 100%;
        font-size: 14px;
        letter-spacing: 0;
        transition-duration: 0.25s;
        &:hover{
          div{
            ol, .center{
              line-height: 30px!important;
              height:auto!important;
              opacity: 1!important;
              margin:23px auto 10px!important;
              transition-duration: 0.55s!important;
              transition-property: margin opacity!important;
            }
          }
        }
        &:hover,&.active{
          color:#000;
          background:#fff;
          transition-duration: 0.55s;
          a,a:active,a:focus{
            color:inherit;
            transition-duration: 0.55s;
          }
        }

        &.off{
          color:#fff;
          background:#000;
        }
        a{
          color:#fff;
          display: block;
          height: 100%;
          padding:0 20px;
          &:focus{
            color:#fff;
          }
        }
      }
      &.social{
        margin-left: 20px;
        display: inline;
        letter-spacing: 0;
        li{
          a{
            font-size: percentage(16/14);
            padding: 0 10px;
            img{
              width:18px;
            }
            &:hover{
              filter:invert(1);
            }
          }
          &.search{
            div{
              .center{
                width:980px;
                height:0;
                overflow: hidden;
                margin:0 auto;
                padding:0;
                text-align:left;
                line-height:0;
                transition-duration: 0.25s;
              }
              i{
                font-size: percentage(22/14);
                color:#a4a5a5;
              }
            }
            input{
              font-family: 'PT Sans', sans-serif;
              width:940px;
              margin-left:10px;
              border:0;
              &:focus{
                border:0;
                outline:none!important;
              }
            }
          }
        }
      }
    }
    div{
      width:100%;
      background:#fff;
      position:absolute;
      display: block;
      left:0;
      z-index: 1;
      ol{
        display: block;
        width:980px;
        height:0;
        overflow: hidden;
        margin:0 auto;
        padding:0;
        text-align: left;
        line-height: 0;
        opacity: 0;
        transition-duration: 0.25s;
        a{
          background:none;
          color:inherit;
          border-right:1px solid #959595;
          line-height:14px;
          vertical-align: top;
          padding-bottom:2px;
          &:hover,&:active,&:focus{
            background:none;
            color:$main-active-color;
          }
        }
        li:first-child{
          a{
            border-left:1px solid #959595;
          }
        }
      }
    }
    &.mm-opened{
      z-index: 1;
    }
    &:hover +.marquee:after{
      display: block;
      opacity: 1;
      height:100%;
      transition: opacity 0.3s linear 0s, background 0.3s linear 0s;
      background:rgba(0,0,0,0.5);
    }
  }
  .marquee{
    background: rgba(255,255,255,0.7);
    text-align: center;
    padding:10px 0;
    ul{
      display: inline-block;
      height: 20px;
      letter-spacing: 0;
      &:hover{
        &:before, &:after{
          font-style: italic;
          transition-duration: 2s;
        }
      }
      &:before{
        content:'// ï‚¡';
        padding-right:1px;
      }
      &:after{
        content:'//';
      }
      &:before,&:after{
        font-family: FontAwesome;
        color:#e74b8c;
        display: inline;
      }
      li{
        line-height: 1.1em;
        letter-spacing: -1em;
        opacity:0;
        transition-duration:1.5s;
        position:relative;
        // font-size: 0;
        transform:rotateY(90deg);
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
        max-width: 80%;
        color:#e74b8c;
        a{
        color:#e74b8c;
          font-size: percentage(11/14);
        }
        &.active{
          letter-spacing: 0.1em;
          opacity:inherit;
          transition-delay: 1.45s;
          transition-duration:3s;
          // font-size: inherit;
          transform:rotateY(0deg);
          vertical-align: center;
        }
        &:after{
          position:absolute;
          display: block;
          left:0;
          bottom:-110%;
          width:0;
          height:100%;
          border-top:1px solid rgba(255,255,255,0.5);
          content: ' ';
          @media screen and (max-width: 1170px) {
            display: none;
          }
        }
        &:hover{
          &:after{
            width:100%;
            transition-duration:1s;
            border-top:1px solid #e74b8c;
          }
        }
      }
      @media screen and (max-width: 767px) {
        height:auto;
      }
    }
    a{
      color:#e74b8c;
    }
    &:after{
      transition: opacity 0.3s linear 0s, background 0.3s linear 0s;
      opacity: 0;
      position:fixed;
      display: block;
      width:100%;
      height:0;
      left:0;
      top:0;
      content:' ';
      background:rgba(0,0,0,0);
      z-index:-1;
    }
  }
}